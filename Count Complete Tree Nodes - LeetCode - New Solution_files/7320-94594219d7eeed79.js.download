(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7320],{94470:function(e){"use strict";var n=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,i=function(e){return"function"===typeof Array.isArray?Array.isArray(e):"[object Array]"===t.call(e)},l=function(e){if(!e||"[object Object]"!==t.call(e))return!1;var r,o=n.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(r in e);return"undefined"===typeof r||n.call(e,r)},u=function(e,n){r&&"__proto__"===n.name?r(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},a=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(o)return o(e,t).value}return e[t]};e.exports=function e(){var n,t,r,o,c,s,d=arguments[0],f=1,m=arguments.length,v=!1;for("boolean"===typeof d&&(v=d,d=arguments[1]||{},f=2),(null==d||"object"!==typeof d&&"function"!==typeof d)&&(d={});f<m;++f)if(null!=(n=arguments[f]))for(t in n)r=a(d,t),d!==(o=a(n,t))&&(v&&o&&(l(o)||(c=i(o)))?(c?(c=!1,s=r&&i(r)?r:[]):s=r&&l(r)?r:{},u(d,{name:t,newValue:e(v,s,o)})):"undefined"!==typeof o&&u(d,{name:t,newValue:o}));return d}},48738:function(e){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},9714:function(e,n,t){"use strict";t.d(n,{h:function(){return c}});var r=t(67294),o=t(84945);var i=t(24193),l=t.n(i),u=t(80983);function a(e){e&&o.y.error(e)}function c(e){var n=(0,r.useRef)(0);return[(0,r.useCallback)((function(t){return window.navigator.onLine?function(e,n){return"number"!==typeof n||e.size<=n}(t,e.maxFileSize)?function(e,n){if(n){var t=e.type||(0,u.lookup)(e.name);return!!t&&n.some((function(e){return l()(t,e)}))}return!0}(t,e.accepts)?!(n.current>=e.maxFileCount)||(a(e.maxFileCountErrorMsg),!1):(a(e.acceptsErrorMsg),!1):(a(e.maxFileSizeErrorMsg),!1):(a(e.networkErrorMsg),!1)}),[e,n]),(0,r.useCallback)((function(t){var r=n.current+t;return r<=e.maxFileCount&&r>=0&&(n.current=r,!0)}),[e.maxFileCount])]}},69468:function(e,n,t){"use strict";t.d(n,{V:function(){return g}});var r=t(47568),o=t(26042),i=t(99534),l=t(10253),u=t(70655),a=t(42054),c=t(27771),s=t(67294),d=t(85206),f=t(7649),m=t(18471),v=function(e){var n,t=e.file,r=new FormData;return r.append("image",t),(0,m.o)(f.Hb.uploadImage(),{method:"POST",data:r,withCredentials:!0}).then((function(e){var r=e.data;return{url:r.url,error:null!==(n=r.error)&&void 0!==n?n:null,file:t}})).catch((function(e){return Promise.resolve({url:"",file:t,error:new Error(e)})}))},p=t(9714);function g(e){var n=e.bucket,t=e.prefix,f=e.accepts,m=e.maxFileSize,g=void 0===m?1/0:m,h=e.maxFileCount,x=void 0===h?1/0:h,b=e.multiple,C=void 0!==b&&b,w=e.onSuccess,y=void 0===w?a.Z:w,S=e.onError,j=void 0===S?a.Z:S,k=(0,s.useState)(!1),N=k[0],I=k[1],L=(0,l.Z)((0,d.F)(),2),T=L[0],Z=L[1],E=(0,l.Z)((0,p.h)({accepts:f,maxFileSize:g,maxFileCount:x,maxFileSizeErrorMsg:"Image is too large"}),2),M=E[0],_=E[1],R=(0,s.useCallback)((function(e){return e.filter((function(e){return!!e&&(M(e)&&_(1))})).map((function(e){return I(!0),v({file:e,bucket:n,prefix:t}).then((function(e){var n=e.error,t=(0,i.Z)(e,["error"]);return n?j((0,o.Z)({error:n},t)):y((0,o.Z)({},t)),t})).finally((function(){return I(!1)}))}))}),[n,M,j,y,t,_]),H=(0,s.useCallback)((function(){function e(){return(e=(0,r.Z)((function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return[4,Z({accept:f,multiple:C},(function(e){return(0,c.Z)(e)||(e=[e]),R(e.map((function(e){return e.file})))}))];case 1:return e.sent(),I(!1),[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[Z,f,C,R]);return{doSelect:H,uploadFiles:R,previewFile:T,loading:N}}},7080:function(e,n,t){"use strict";t.d(n,{KA:function(){return s},M8:function(){return a},WV:function(){return c}});var r=t(85893),o=t(42054),i=t(67294),l=(0,i.createContext)({editor:null,value:""}),u=(0,i.createContext)({setEditor:o.Z,setValue:o.Z}),a=function(){return(0,i.useContext)(l)},c=function(){return(0,i.useContext)(u)},s=function(e){var n=e.children,t=(0,i.useState)(null),o=t[0],a=t[1],c=(0,i.useState)(""),s=c[0],d=c[1];return(0,r.jsx)(u.Provider,{value:{setEditor:a,setValue:d},children:(0,r.jsx)(l.Provider,{value:{editor:o,value:s},children:n})})}},83406:function(e,n,t){"use strict";t.d(n,{Y:function(){return m},s:function(){return f}});var r=t(47568),o=t(70655),i=t(11321),l=t(69468),u=t(84945),a=t(15371),c=t(80441),s=t(72493),d=t(7080),f=["image/jpeg","image/png","image/gif","image/svg+xml","image/bmp","image/webp"],m=function(e){var n=e.toast,t=void 0===n||n,m=(0,i.$G)("post-solution").t,v=(0,d.M8)().editor,p=(0,c.I)(),g=(0,l.V)({accepts:f,maxFileSize:2097152,onError:function(){return t&&u.y.error(m("imgUploadError"),{itemClassName:a.Cj.bgLayer3})},onSuccess:function(){var e=(0,r.Z)((function(e){var n,r,i,l;return(0,o.__generator)(this,(function(o){return n=e.url,r=e.file,i=r.name.replace(/([[\]])/g,"\\$1"),l=encodeURI(n).replace(/([()])/g,"\\$1"),t&&u.y.success(m("imgUploadSuccess"),{itemClassName:a.Cj.bgLayer3}),v&&p&&(0,s.J4)({editor:v,content:"![".concat(i,"](").concat(l,")"),monaco:p}),[2]}))}));return function(n){return e.apply(this,arguments)}}()});return{doSelect:g.doSelect,uploadFiles:g.uploadFiles}}},72493:function(e,n,t){"use strict";t.d(n,{HI:function(){return a},J4:function(){return c},PH:function(){return i},PX:function(){return u},Th:function(){return o},pn:function(){return l}});var r=t(26042);function o(e){return(0,r.Z)({contextMenuGroupId:"markdown"},e)}function i(e,n){var t=e.getSelection(),r=e.getModel();return t&&r?new n.Selection(t.startLineNumber,0,t.startLineNumber,r.getLineMaxColumn(t.startLineNumber)):null}function l(e){var n=e.convertedText.split("\n").pop().length-e.selectedText.split("\n").pop().length;return e.selectedRange.setEndPosition(e.selectedRange.endLineNumber,e.selectedRange.endColumn+n)}function u(e){try{return new URL(e).origin.startsWith("http")}catch(n){return!1}}function a(e,n){var t=e.getSelection(),r=e.getModel();return t&&r?new n.Selection(t.startLineNumber,0,t.endLineNumber,r?r.getLineMaxColumn(t.endLineNumber):0):null}function c(e){var n=e.editor,t=e.content,r=e.getUserSelection,o=e.monaco,i=n.getModel(),l=a(n,o);if(l&&i){var u=t.replace(/([^\n])$/,"$1\n"),c=function(e){if(!e.model.getValueInRange(e.currentLineSelection))return e.currentLineSelection;var n=e.currentLineSelection.endLineNumber+1;return new o.Selection(n,0,n,0)}({model:i,currentLineSelection:l}),s=function(e){var n=e.insertedText.trim().split("\n"),t=e.editSelection.startLineNumber+n.length-1,r=n[n.length-1].length+1;return new o.Selection(e.editSelection.startLineNumber,0,t,r)}({insertedText:u,editSelection:c}),d=r?r(s):s;n.pushUndoStop(),n.executeEdits("",[{range:c,text:u}],[d]),n.pushUndoStop()}}},48048:function(e,n,t){"use strict";t.d(n,{I:function(){return p}});var r=t(14924),o=t(26042),i=t(69396),l=t(99534),u=t(85893),a=t(67294),c=t(51295),s=t(15371),d=t(68352),f=t(32528),m=t.n(f),v=function(e){var n=e.icon,t=e.onClick,r=e.className,l=a.isValidElement(n),s=l?n.props:{},d=l?a.cloneElement(n,Object.assign({},(0,i.Z)((0,o.Z)({},s),{className:(0,c.yI)("w-4 h-4",s.className)}))):a.createElement(n,{className:"w-4 h-4"});return(0,u.jsx)("div",{className:(0,c.yI)("absolute inset-y-0 flex items-center pl-3 text-gray-6 dark:text-dark-gray-6",{"pointer-events-none":!l},r),onClick:t,children:(0,u.jsx)("span",{children:d})})},p=a.forwardRef((function(e,n){var t,i=e.leftIcon,a=e.leftIconClassName,f=e.leftIconClick,p=e.rightIcon,g=e.rightIconClassName,h=e.rightIconClick,x=e.variant,b=void 0===x?"default":x,C=e.className,w=e.disabled,y=e.wrapperClassName,S=e.autoComplete,j=void 0===S?"off":S,k=e.handleClear,N=e.value,I=(0,l.Z)(e,["leftIcon","leftIconClassName","leftIconClick","rightIcon","rightIconClassName","rightIconClick","variant","className","disabled","wrapperClassName","autoComplete","handleClear","value"]),L=!!i,T=!!p,Z=!!k&&!!N;return(0,u.jsxs)("div",{className:(0,c.yI)(" relative rounded-md ".concat(m()["input-container"]),y),children:[L?(0,u.jsx)(v,{icon:i,onClick:f,className:(0,c.yI)("left-0",a)}):null,(0,u.jsx)("input",(0,o.Z)({ref:n,className:(0,c.yI)("block w-full rounded-md pr-3 leading-5 outline-none",s.Cj.placeholderLabel4,(t={"border-none py-1.5":"default"===b},(0,r.Z)(t,s.Cj.label2,"default"===b),(0,r.Z)(t,s.Cj.fill3,"default"===b),(0,r.Z)(t,"focus:bg-fill-2 dark:focus:bg-dark-fill-2","default"===b),t),{"border border-green-s py-[5px] transition-all focus:shadow-form":"border"===b},{"pl-3":!L,"pl-9":L,"pr-3":!T,"pr-12":T},C),disabled:w,autoComplete:j,value:N},I)),T?(0,u.jsx)(v,{icon:p,onClick:h,className:(0,c.yI)("right-4",(0,r.Z)({},"".concat(m()["right-icon"]),Z),(0,r.Z)({},s.Cj.label4,w),g)}):null,Z?(0,u.jsx)(v,{icon:(0,u.jsx)(d.U,{className:(0,c.yI)("hidden cursor-pointer ".concat(m()["clear-icon"]," right-3"))}),onClick:function(e){e.stopPropagation(),k()},className:(0,c.yI)("right-4",g)}):null]})}))},23254:function(e,n,t){"use strict";t.d(n,{J:function(){return f}});var r=t(85893),o=t(67294),i=t(86215),l=t(89148),u=t(42054),a=t(15371),c=t(51295),s=function(e){var n=e.open,t=e.onVisibilityChange,r=(0,o.useRef)(n);return(0,o.useEffect)((function(){n!==r.current&&(r.current=n,t&&t(n))}),[n,t]),null},d={top:"top",left:"left",right:"right",bottom:"bottom",topLeft:"top-start",topRight:"top-end",bottomLeft:"bottom-start",bottomRight:"bottom-end",leftTop:"left-start",leftBottom:"left-end",rightTop:"right-start",rightBottom:"right-end"},f=function(e){var n=e.className,t=e.buttonClassName,f=e.panelClassName,m=e.arrowClassName,v=e.contentClassName,p=e.disabled,g=e.mobileEnable,h=e.useHover,x=void 0===h||h,b=e.content,C=e.children,w=e.placement,y=e.timeoutDuration,S=void 0===y?200:y,j=e.inset,k=void 0===j?10:j,N=e.arrowSize,I=void 0===N?8:N,L=e.showArrow,T=void 0===L||L,Z=e.onVisibilityChange,E=e.canCloseContent,M=void 0!==E&&E,_=e.transform,R=void 0===_||_,H=e.portal,A=e.controlledOpen,P=e.setControlledOpen,z=(0,o.useRef)(),q=(0,o.useRef)(null),U=(0,o.useRef)(!1),D=(0,o.useCallback)((function(e){U.current=e,Z&&Z(e)}),[U,Z]),O=(0,o.useRef)(!1),V=(0,o.useCallback)((function(){var e,n;null===(e=q.current)||void 0===e||null===(n=e.parentElement)||void 0===n||n.click(),null===P||void 0===P||P((function(e){return!e}))}),[P]),F=(0,o.useCallback)((function(e,n){x&&(z.current&&clearTimeout(z.current),e!==n&&(z.current=setTimeout((function(){e===U.current&&(O.current=!0,V())}),S)))}),[S,V,x,U]),$=(0,o.useCallback)((function(){x&&(O.current||V(),O.current=!1)}),[V,x]);return p?(0,r.jsx)(r.Fragment,{children:C}):(0,r.jsx)(i.J,{className:(0,c.yI)("popover-wrapper inline-block",n),children:function(e){var n=e.open,o=e.close,p=null!==A&&void 0!==A?A:n,h=P?function(){return P(!1)}:o;return(0,r.jsxs)(l.bv,{composable:!0,placement:d[null!==w&&void 0!==w?w:"top"],strategy:"fixed",zIndex:40,portal:H,transform:R,show:p,enter:"transition-all ease-out duration-200",enterFrom:R?"opacity-0 translate-y-1":"opacity-0 top-1",enterTo:R?"opacity-100 translate-y-0":"opacity-100 top-0",leave:"transition-all ease-out duration-200",leaveFrom:R?"opacity-100 translate-y-0":"opacity-100 top-0",leaveTo:R?"opacity-0 translate-y-1":"opacity-0 top-1",offset:k,shift:k,flip:{crossAxis:!1,padding:k},arrow:k,children:[(0,r.jsx)(s,{open:p,onVisibilityChange:D}),(0,r.jsxs)("div",{onMouseEnter:function(){return F(p,!0)},onMouseLeave:function(){return F(p,!1)},children:[(0,r.jsx)(l.bv.Reference,{children:(0,r.jsx)(i.J.Button,{as:"div",className:t,onClick:$,children:(0,r.jsx)("div",{ref:q,children:C})})}),(0,r.jsx)(l.bv.Content,{children:(0,r.jsxs)(i.J.Panel,{as:"div",className:(0,c.yI)("z-modal relative w-max rounded md:block",a.Cj.bgPaper,a.eq.dropdown,{hidden:!g},f),onClick:M?h:u.Z,children:[T&&I>0&&(0,r.jsx)(l.bv.Arrow,{className:"absolute",offset:I/2+.5,children:(0,r.jsx)("div",{className:(0,c.yI)("rotate-45 rounded-[1px]",a.Cj.bgPaper,m),style:{width:I,height:I}})}),(0,r.jsx)("div",{className:(0,c.yI)("relative rounded px-4 py-3",v),children:b})]})})]})]})}})}},50293:function(e,n,t){"use strict";t.d(n,{O:function(){return l}});var r=t(85893),o=(t(67294),t(94184)),i=t.n(o),l=function(e){var n=e.className,t=e.children;return(0,r.jsx)("div",{className:i()("animate-pulse",n),children:t})}},14249:function(e,n,t){"use strict";t.d(n,{a:function(){return l}});var r=t(85893),o=(t(67294),t(51295)),i=t(15371),l=function(e){var n=e.className,t=e.style;return(0,r.jsx)("div",{className:(0,o.yI)("h-3 rounded-[5px]",i.Cj.fill3,n),style:t})}},45068:function(e,n,t){"use strict";t.d(n,{Y:function(){return l}});var r=t(29815),o=t(65854),i=t(88525),l=function(){return(0,i.Yjs)(o.f6,{questionSlug:""},{select:function(e){var n,t,o,i=e.solutionLanguageTags,l=e.solutionTopicTags;return(0,r.Z)(null!==i&&void 0!==i?i:[]).concat((0,r.Z)(null!==l&&void 0!==l?l:[])).map((function(e){return{name:null!==(n=null===e||void 0===e?void 0:e.name)&&void 0!==n?n:"",slug:null!==(t=null===e||void 0===e?void 0:e.slug)&&void 0!==t?t:"",nameTranslated:null!==(o=null===e||void 0===e?void 0:e.name)&&void 0!==o?o:""}}))}})}},7111:function(e,n,t){"use strict";t.d(n,{b:function(){return l}});var r=t(91106),o=t(75117),i=t(19639),l=function(e){return(0,i.LN)(r.K,{questionSlug:e},{enabled:!o.Oo,select:function(e){return e.recommendSolutionTags}})}},91106:function(e,n,t){"use strict";t.d(n,{K:function(){return u}});var r=t(28687),o=t(56852),i=t(65854),l=(0,o.vx)(),u=new r.GraphQLClient("/graphql/noj-go/",{credentials:"same-origin",headers:{"X-CSRFToken":(0,o._V)(),Authorization:l?"Bearer ".concat(l):"","random-uuid":(0,o.Zx)()}});(0,i.Z)(u)},98277:function(e,n,t){"use strict";t.d(n,{h:function(){return l}});var r=t(26042),o=t(69396),i=t(85893),l=t(67294).forwardRef((function(e,n){return(0,i.jsx)("svg",(0,o.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M22.707 1.293a1 1 0 01.237 1.037l-7 20a1 1 0 01-1.858.076l-3.844-8.648-8.648-3.844a1 1 0 01.076-1.858l20-7a1 1 0 011.037.237zM12.193 13.22l2.696 6.068 4.72-13.483-7.416 7.416zm6.001-8.83L4.711 9.111l6.067 2.696 7.416-7.416z",clipRule:"evenodd"})}))}))},68352:function(e,n,t){"use strict";t.d(n,{U:function(){return l}});var r=t(26042),o=t(69396),i=t(85893),l=t(67294).forwardRef((function(e,n){return(0,i.jsx)("svg",(0,o.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 100-16 8 8 0 000 16zm1.414-8l2.293 2.293a1 1 0 01-1.414 1.414L12 13.414l-2.293 2.293a1 1 0 01-1.414-1.414L10.586 12 8.293 9.707a1 1 0 011.414-1.414L12 10.586l2.293-2.293a1 1 0 111.414 1.414L13.414 12z",clipRule:"evenodd"})}))}))},59184:function(e,n,t){"use strict";t.d(n,{_:function(){return l}});var r=t(26042),o=t(69396),i=t(85893),l=t(67294).forwardRef((function(e,n){return(0,i.jsxs)("svg",(0,o.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:[(0,i.jsx)("path",{d:"M20.474 3.526a5.21 5.21 0 00-7.369 0l-2.947 2.948a5.21 5.21 0 000 7.368 1.042 1.042 0 101.474-1.474 3.126 3.126 0 010-4.42L14.579 5A3.126 3.126 0 0119 9.42l-2.947 2.947a1.042 1.042 0 001.473 1.474l2.948-2.947a5.21 5.21 0 000-7.369z"}),(0,i.jsx)("path",{d:"M13.842 10.158a1.042 1.042 0 10-1.474 1.474 3.126 3.126 0 010 4.42L9.421 19A3.126 3.126 0 115 14.58l2.947-2.947a1.042 1.042 0 10-1.473-1.474l-2.948 2.947a5.21 5.21 0 107.369 7.369l2.947-2.948a5.21 5.21 0 000-7.368z"})]}))}))},99453:function(e,n,t){"use strict";t.d(n,{l:function(){return l}});var r=t(26042),o=t(69396),i=t(85893),l=t(67294).forwardRef((function(e,n){return(0,i.jsx)("svg",(0,o.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M17.436 11.633A5 5 0 0115 21H6a1 1 0 01-1-1V4a1 1 0 011-1h8a5 5 0 013.436 8.633zM15 13H7v6h8a3 3 0 100-6zm-1-2a3 3 0 100-6H7v6h7z",clipRule:"evenodd"})}))}))},58809:function(e,n,t){"use strict";t.d(n,{X:function(){return l}});var r=t(26042),o=t(69396),i=t(85893),l=t(67294).forwardRef((function(e,n){return(0,i.jsx)("svg",(0,o.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M17 13H7v7a1 1 0 11-2 0V4a1 1 0 012 0v7h10V4a1 1 0 112 0v16a1 1 0 11-2 0v-7z",clipRule:"evenodd"})}))}))},27185:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(26042),o=t(69396),i=t(85893),l=t(67294).forwardRef((function(e,n){return(0,i.jsx)("svg",(0,o.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M21 14.997V18a3 3 0 01-3 3H6a3 3 0 01-3-3V6a3 3 0 013-3h12a3 3 0 013 3v8.997zm-2-2.293V6a1 1 0 00-1-1H6a1 1 0 00-1 1v11.218l8.96-7.965a1 1 0 011.346.015L19 12.704zm0 2.731l-4.39-4.084L6.005 19H18a1 1 0 001-1v-2.565zM8.5 11a2.5 2.5 0 110-5 2.5 2.5 0 010 5zm0-2a.5.5 0 100-1 .5.5 0 000 1z",clipRule:"evenodd"})}))}))},79856:function(e,n,t){"use strict";t.d(n,{C:function(){return l}});var r=t(26042),o=t(69396),i=t(85893),l=t(67294).forwardRef((function(e,n){return(0,i.jsx)("svg",(0,o.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M10.86 19H13a1 1 0 110 2H6a1 1 0 110-2h2.765L13.14 5H11a1 1 0 110-2h7a1 1 0 110 2h-2.765L10.86 19z",clipRule:"evenodd"})}))}))},95599:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var r=t(26042),o=t(69396),i=t(85893),l=t(67294).forwardRef((function(e,n){return(0,i.jsx)("svg",(0,o.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M8 7a1 1 0 110-2h13a1 1 0 110 2H8zm0 6a1 1 0 110-2h13a1 1 0 110 2H8zm0 6a1 1 0 110-2h13a1 1 0 110 2H8zM2.952 6.85a1.201 1.201 0 111.698-1.7 1.201 1.201 0 01-1.698 1.7zm0 6a1.201 1.201 0 111.698-1.7 1.201 1.201 0 01-1.698 1.7zm0 6a1.201 1.201 0 111.698-1.7 1.201 1.201 0 01-1.698 1.7z",clipRule:"evenodd"})}))}))},58419:function(e,n,t){"use strict";t.d(n,{D:function(){return l}});var r=t(26042),o=t(69396),i=t(85893),l=t(67294).forwardRef((function(e,n){return(0,i.jsx)("svg",(0,o.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,i.jsx)("path",{fillRule:"evenodd",d:"M7 6a1 1 0 011-1h13a1 1 0 110 2H8a1 1 0 01-1-1zm1 13a1 1 0 110-2h13a1 1 0 010 2H8zm0-6a1 1 0 110-2h13a1 1 0 010 2H8zM2.756 4.98l.236-1.18h2.22l-.92 4.6h-1.38l.684-3.42h-.84zm2.823 8.3l-.235 1.192H1.756l.174-.87.073-.117 1.911-1.498c.219-.178.368-.324.445-.434a.49.49 0 00.099-.287.208.208 0 00-.083-.18c-.067-.052-.176-.082-.335-.082a.897.897 0 00-.398.094 1.02 1.02 0 00-.342.272l-.12.144-.968-.702.118-.162c.193-.264.456-.473.786-.625.327-.15.684-.225 1.068-.225.318 0 .602.053.85.16.255.11.456.267.6.47.146.206.22.44.22.698 0 .298-.083.58-.247.839-.158.25-.424.518-.797.807l-.653.506h1.422zm-3.063 3.7l.245-1.18h3.345l-.166.867-.06.11-.93.869a1.205 1.205 0 01.737 1.144c-.001.327-.098.622-.29.881a1.856 1.856 0 01-.774.593c-.322.139-.685.208-1.087.208-.328 0-.636-.045-.924-.135a2.06 2.06 0 01-.743-.4l-.132-.114.688-1.05.173.147c.12.103.267.185.442.245.177.06.364.091.562.091.251 0 .435-.044.554-.124a.31.31 0 00.146-.282c0-.086-.025-.135-.08-.171-.076-.05-.213-.079-.41-.079h-.687l.173-.88.06-.108.674-.632H2.516z",clipRule:"evenodd"})}))}))},41026:function(e,n,t){"use strict";t.d(n,{L:function(){return qn}});var r,o,i,l=t(10253),u=t(29815),a=t(85893),c=t(67294),s=t(11163),d=t.n(s),f=t(56852),m=t(42673),v=t(46922),p=t(7649),g=t(51295),h=t(9770),x=t(49882),b=t(15371),C=t(74),w=t(66614),y=t(7080),S=function(e){var n=e.children;return(0,a.jsx)(y.KA,{children:n})},j=t(11321),k=t(58809),N=t(99453),I=t(79856),L=t(58419),T=t(95599),Z=t(26042),E=t(69396),M=c.forwardRef((function(e,n){return(0,a.jsx)("svg",(0,E.Z)((0,Z.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{d:"M2.25 8.25h13.5a.75.75 0 100-1.5H2.25a.75.75 0 000 1.5zm13.5 1.5H2.25a.75.75 0 000 1.5h13.5a.75.75 0 100-1.5z"})}))})),_=c.forwardRef((function(e,n){return(0,a.jsx)("svg",(0,E.Z)((0,Z.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5 4h14a3 3 0 013 3v10a3 3 0 01-3 3H5a3 3 0 01-3-3V7a3 3 0 013-3zm0 2a1 1 0 00-1 1v10a1 1 0 001 1h14a1 1 0 001-1V7a1 1 0 00-1-1H5zm4.027 6L6.906 9.879A1 1 0 018.32 8.464l2.475 2.475a1.5 1.5 0 010 2.122L8.32 15.536a1 1 0 11-1.414-1.415L9.027 12zM13 16a1 1 0 110-2h3a1 1 0 110 2h-3z",clipRule:"evenodd"})}))})),R=t(39940),H=c.forwardRef((function(e,n){return(0,a.jsxs)("svg",(0,E.Z)((0,Z.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:[(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.293 6.778A1 1 0 005 7.485V18a1 1 0 001 1h12a1 1 0 001-1V6a1 1 0 00-1-1H7.485a1 1 0 00-.707.293L5.293 6.778zM3 7.071a2 2 0 01.586-1.414l2.07-2.071A2 2 0 017.072 3H18a3 3 0 013 3v12a3 3 0 01-3 3H6a3 3 0 01-3-3V7.071z",clipRule:"evenodd"}),(0,a.jsx)("path",{d:"M10.52 15.022l.98-5.393c.088-.48.543-.878 1.09-.758.49.108.757.575.725 1.011l-.001.018-.01.078-.981 5.393c-.088.48-.543.878-1.09.758-.49-.108-.757-.575-.725-1.011l.001-.018.01-.078zM17.454 12.996l-1.738 2.702a1.01 1.01 0 01-1.336.322.942.942 0 01-.4-1.235l.008-.018.042-.072 1.41-2.195-1.404-2.186a.938.938 0 01.25-1.274l.014-.011.071-.045.009-.004c.42-.236.961-.143 1.269.23l.012.015.05.068 1.735 2.701c.174.27.197.605.065.894l-.01.021-.047.087zM9.962 14.776l.004.01a.942.942 0 01-.4 1.234c-.42.236-.962.143-1.27-.23l-.012-.015-.049-.068-1.748-2.72-.047-.088-.005-.011a.93.93 0 010-.776l.01-.021.047-.086 1.748-2.72.05-.067.007-.008a1.012 1.012 0 011.16-.283l.018.007.09.044.087.056.009.006a.939.939 0 01.31 1.166l-.01.02-.044.079L8.505 12.5l1.416 2.202.04.074z"})]}))})),A=c.forwardRef((function(e,n){return(0,a.jsx)("svg",(0,E.Z)((0,Z.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{d:"M7.54 9L3.127 4.589a.95.95 0 01-.278-.672V3.2a.95.95 0 01.95-.95h9.55a.748.748 0 01.53.22l1 1a.75.75 0 11-1.06 1.06l-.78-.78H4.41L8.99 8.328a.947.947 0 010 1.344L4.41 14.25h8.628l.78-.78a.75.75 0 011.061 1.06l-1 1a.748.748 0 01-.53.22H3.8a.95.95 0 01-.95-.95v-.717c0-.252.1-.494.278-.672L7.54 9z"})}))})),P=t(59184),z=c.forwardRef((function(e,n){return(0,a.jsx)("svg",(0,E.Z)((0,Z.Z)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"1em",height:"1em",fill:"currentColor",ref:n},e),{children:(0,a.jsx)("path",{d:"M5.941 13.5c.659 0 1.18-.194 1.564-.582.439-.387.63-.886.63-1.495 0-.61-.191-1.08-.575-1.468a1.983 1.983 0 00-1.427-.609c-.301 0-.52.056-.658.11 0-.664.22-1.3.686-1.938a4.098 4.098 0 011.838-1.301V4.5c-1.372.388-2.47 1.08-3.292 2.132C3.911 7.685 3.5 8.931 3.5 10.315c0 .942.247 1.717.686 2.299.466.61 1.042.886 1.755.886zm6.392 0c.658 0 1.18-.194 1.59-.582.385-.387.577-.886.577-1.495 0-.61-.192-1.08-.604-1.468-.384-.387-.85-.609-1.399-.609-.301 0-.52.056-.658.11 0-.664.22-1.3.713-1.938.494-.609 1.098-1.052 1.838-1.301V4.5c-1.371.388-2.469 1.08-3.292 2.132-.822 1.053-1.234 2.299-1.234 3.683 0 .942.247 1.717.713 2.299.44.61 1.043.886 1.756.886z"})}))})),q=t(16204),U=t(27185),D=t(99534),O=t(62758),V=t(97425),F=t(25398),$=(0,c.forwardRef)((function(e,n){var t=e.className,r=e.tip,o=e.onClick,i=e.hideTipWhenClick,l=(0,D.Z)(e,["className","tip","onClick","hideTipWhenClick"]),u=(0,c.useState)(!1),s=u[0],d=u[1],f=(0,V.i)().width,m=(void 0===f?0:f)<680;return(0,a.jsx)(O.u,{label:m?"":r,open:s,onOpenChange:d,children:(0,a.jsx)(F.z,(0,E.Z)((0,Z.Z)({variant:"plain",className:(0,g.yI)("p-1",b.Cj.fill3Hover,t)},l),{ref:n,onClick:function(e){i&&d(!1),null===o||void 0===o||o(e)}}))})})),B=t(83406);!function(e){e.TITLE="title",e.BOLD="bold",e.ITALIC="italic",e.NUMBER_LIST="number-list",e.BULLET_LIST="list",e.GROUPED_CODE_FENCE="playground",e.CODE_FENCE="code",e.INLINE_CODE="code-inline",e.IMAGE="image",e.VIDEO="video",e.LINK="link",e.Mention="at"}(r||(r={})),function(e){e.Syntax="syntax",e.MetaData="metadata",e.Keyword="keyword",e.Identifier="identifier",e.Header="header",e.BlockQuote="block quotes",e.CodeSpan="code span",e.IndentedCodeBlock="indented code block",e.FencedCodeBlockLanguage="fenced code block language",e.LinkTitle="link.title",e.LinkDestination="link.destination",e.ImageLink="image.link"}(o||(o={})),function(e){e.InsertLink="markdown_insert-link",e.Heading1="markdown_heading-1",e.Heading2="markdown_heading-2",e.Heading3="markdown_heading-3",e.Heading4="markdown_heading-4",e.Heading5="markdown_heading-5",e.Heading6="markdown_heading-6",e.HeadingPrev="markdown_heading-Prev",e.HeadingNext="markdown_heading-Next",e.Emphasis="markdown_emphasis",e.StrongEmphasis="markdown_strong-emphasis",e.CodeFence="markdown_Insert-Code-Fence",e.GroupedCodeFence="markdown_Insert-Grouped-Code-Fence",e.CodeSpan="markdown_code-spans",e.OrderedList="markdown_ordered-list",e.BulletList="markdown_bullet-list",e.MathFormula="markdown_math-formula",e.HorizontalRule="markdown_horizontal-rule",e.MentionUser="markdown_mention-user",e.Blockquote="markdown_blockquote"}(i||(i={}));r.TITLE,r.BOLD,r.ITALIC,r.NUMBER_LIST,r.BULLET_LIST,r.GROUPED_CODE_FENCE,r.CODE_FENCE,r.INLINE_CODE,r.IMAGE,r.VIDEO,r.LINK,r.Mention;var K=[["head","bold","italic"],["ordered-list","unordered-list","horizontal-line"],["grouped-code-fence","code-fence","code","math"],["image","video","link"],["mention","quote"]],G={head:{tooltip:"title",icon:k.X,action:i.HeadingNext},bold:{tooltip:"bold",icon:N.l,action:i.StrongEmphasis},italic:{tooltip:"italic",icon:I.C,action:i.Emphasis},"ordered-list":{tooltip:"numbered_list",icon:L.D,action:i.OrderedList},"unordered-list":{tooltip:"generic_list",icon:T.Z,action:i.BulletList},"horizontal-line":{tooltip:"horizontal-line",icon:M,action:i.HorizontalRule},"grouped-code-fence":{tooltip:"mixed_code_block",icon:_,action:i.GroupedCodeFence},"code-fence":{tooltip:"code_block",icon:R.w,action:i.CodeFence},code:{tooltip:"inline_code",icon:H,action:i.CodeSpan},math:{tooltip:"latex",icon:A,action:i.MathFormula},link:{tooltip:"link",icon:P._,action:i.InsertLink},image:{tooltip:"picture",icon:function(e){var n=e.className,t=e.tip,r=(0,B.Y)({}).doSelect;return(0,a.jsx)($,{tip:t,variant:"plain",onClick:r,hideTipWhenClick:!0,className:n,children:(0,a.jsx)(U.Z,{className:(0,g.yI)("h-4.5 w-4.5",b.Cj.labelGrey8)})})}},video:{tooltip:"video",icon:void 0},mention:{tooltip:"at_user",icon:void 0,action:i.MentionUser},quote:{tooltip:"quote",icon:z,action:i.Blockquote}},W=function(e){var n=e.tools,t=void 0===n?K:n,r=e.className,o=void 0===r?"":r,l=(0,y.M8)().editor,u=(0,j.$G)("markdown").t,s=(0,q.n)();return(0,a.jsx)("div",{className:(0,g.yI)("flex h-10 items-center gap-2",o),children:t.map((function(e,n){return(0,a.jsxs)(c.Fragment,{children:[e.map((function(e){var n=G[e],t=n.icon,r=n.action,o=n.tooltip;if(!t)return null;var c=s(u(o||"")),d=(0,g.yI)(b.Cj.labelGrey7,"h-6 w-6 justify-center p-0");return r||"function"!==typeof t?(0,a.jsx)($,{onClick:function(){r&&function(e){if(l){var n=l.getAction(e);e!==i.MentionUser?(l.focus(),null===n||void 0===n||n.run()):setTimeout((function(){null===n||void 0===n||n.run()}),0)}}(r)},tip:c,className:d,children:"string"===typeof t?t:(0,a.jsx)(t,{className:(0,g.yI)("h-4.5 w-4.5",b.Cj.labelGrey8)})},e):(0,a.jsx)(t,{tip:c},e)})),n<t.length-1&&(0,a.jsx)("div",{className:(0,g.yI)("h-3 border-l",b.Cj.divider2)})]},n)}))})},J=t(84004),Y=t(74282),X=t(80441),Q=t(74287),ee=t(72493),ne=function(e){var n=function(e){return!!/^\> /.exec(e)}(e);return n?te(e):function(e){return"> ".concat(te(e))}(e)};function te(e){return e.replace(/^> /,"")}function re(){var e=(0,j.$G)("common",{keyPrefix:"markdown"}).t;return(0,c.useCallback)((function(n,t){var r=(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:i.Blockquote,label:"quote"})),{run:function(t){return function(r){var o=(0,ee.PH)(r,n),i=r.getModel();if(o&&i){var l=i.getValueInRange(o),u=t(l||e("quote")),a=(0,ee.pn)({selectedText:l,selectedRange:o,convertedText:u}),c=a.setStartPosition(a.startLineNumber,3);r.pushUndoStop(),r.executeEdits("",[{range:o,text:u}],[c]),r.pushUndoStop()}}}(ne)});t.addAction(r)}),[e])}var oe=function(){return(0,c.useCallback)((function(e,n){var t=(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:i.CodeSpan,label:"Code Span"})),{keybindings:[e.KeyMod.WinCtrl|e.KeyCode.Backquote],run:function(e){var n=e.getModel(),t=e.getSelection();if(n&&t){var r=function(e,n){if(/^`.*`$/.test(e)){var t=e.replace(/^`(.*)`$/,"$1");return{convertedText:t,nextSelection:(0,ee.pn)({convertedText:t,selectedText:e,selectedRange:n})}}var r="`".concat(e||"code","`"),o=(0,ee.pn)({convertedText:r,selectedText:e,selectedRange:n});return{convertedText:r,nextSelection:o.setStartPosition(o.startLineNumber,o.startColumn+1).setEndPosition(o.endLineNumber,o.endColumn-1)}}(n.getValueInRange(t),t),o=r.convertedText,i=r.nextSelection;e.pushUndoStop(),e.executeEdits("",[{range:t,text:o}],[i]),e.pushUndoStop()}}});n.addAction(t)}),[])};var ie,le=function(){return(0,c.useCallback)((function(e,n){var t=(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:i.Emphasis,label:"Emphasis"})),{keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyI],run:function(e){var n=e.getModel(),t=e.getSelection();if(n&&t){var r=function(e,n){if(/^[*_]{2}.*[*_]{2}$/.test(e)?/^[*_]{3}.*[*_]{3}$/.test(e):/^[*_].*[*_]$/.test(e)){var t=e.replace(/^[*_](.*)[*_]$/,"$1");return{convertedText:t,nextSelection:(0,ee.pn)({convertedText:t,selectedText:e,selectedRange:n})}}var r="*".concat(e||"Italic","*"),o=(0,ee.pn)({convertedText:r,selectedText:e,selectedRange:n});return{convertedText:r,nextSelection:o.setStartPosition(o.startLineNumber,o.startColumn+1).setEndPosition(o.endLineNumber,o.endColumn-1)}}(n.getValueInRange(t),t),o=r.convertedText,i=r.nextSelection;e.pushUndoStop(),e.executeEdits("",[{range:t,text:o}],[i]),e.pushUndoStop()}}});n.addAction(t)}),[])},ue=t(16423),ae=function(e){return function(n){return de(n)===e?se(n):ce(e,n)}};!function(e){e[e.Prev=-1]="Prev",e[e.Next=1]="Next"}(ie||(ie={}));function ce(e,n){return"".concat("#".repeat(e)," ").concat(se(n))}function se(e){return e.replace(/^#* /,"")}function de(e){var n=(/(^#*) /.exec(e)||[])[1];return n?n.length:0}function fe(){var e=(0,j.$G)("common",{keyPrefix:"markdown"}).t;return(0,c.useCallback)((function(n,t){var r=function(t){return function(r){var o=(0,ee.PH)(r,n),i=r.getModel();if(o&&i){var l=i.getValueInRange(o),u=t(l||e("heading")),a=(0,ee.pn)({selectedText:l,selectedRange:o,convertedText:u}),c=(0,ue.Z)(/(^#* )/.exec(u),"1","").length,s=a.setStartPosition(a.startLineNumber,c+1);r.pushUndoStop(),r.executeEdits("",[{range:o,text:u}],[s]),r.pushUndoStop()}}},o=function(e,n,t){return(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:e,label:"Heading ".concat(n)})),{keybindings:[t],run:r((o=ie[n],function(e){var n=function(e,n){var t=e+n;switch(!0){case t<0:return 6;case t>6:return 0;default:return t}}(de(e),o);return ce(n,e)}))});var o},l=function(e,n,t){return(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:e,label:"Heading ".concat(n)})),{keybindings:[t],run:r(ae(n))})},u=o(i.HeadingPrev,"Prev",n.KeyMod.CtrlCmd|n.KeyCode.Minus),a=o(i.HeadingNext,"Next",n.KeyMod.CtrlCmd|n.KeyCode.Equal),c=l(i.Heading1,1,n.KeyMod.CtrlCmd|n.KeyCode.Digit1),s=l(i.Heading2,2,n.KeyMod.CtrlCmd|n.KeyCode.Digit2),d=l(i.Heading3,3,n.KeyMod.CtrlCmd|n.KeyCode.Digit3),f=l(i.Heading4,4,n.KeyMod.CtrlCmd|n.KeyCode.Digit4),m=l(i.Heading5,5,n.KeyMod.CtrlCmd|n.KeyCode.Digit5),v=l(i.Heading6,6,n.KeyMod.CtrlCmd|n.KeyCode.Digit6);t.addAction(u),t.addAction(a),t.addAction(c),t.addAction(s),t.addAction(d),t.addAction(f),t.addAction(m),t.addAction(v)}),[e])}var me=/^(\s*)([*\-+:])\s/,ve=/^(\s*)(\d+\.)\s/;function pe(e,n){var t=(0,ue.Z)(/^\s*([*\-+:]|\d+\.)?\s/.exec(e),"0","").length+1;return n.setStartPosition(n.startLineNumber,t)}var ge=function(){return(0,c.useCallback)((function(e,n){var t=(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:i.BulletList,label:"Bullet List"})),{keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyU],run:function(n){var t=(0,ee.PH)(n,e),r=n.getModel();if(t&&r){var o=function(e,n){var t=function(t){return{convertedText:t,nextSelection:pe(t,(0,ee.pn)({convertedText:t,selectedText:e,selectedRange:n}))}};return me.test(e)?t(e.replace(me,"$1")):ve.test(e)?t(e.replace(ve,"$1- ")):t(e.replace(/^([\s]*)(.*)/,"$1- $2"))}(r.getValueInRange(t),t),i=o.convertedText,l=o.nextSelection;n.pushUndoStop(),n.executeEdits("",[{range:t,text:i}],[l]),n.pushUndoStop()}}}),r=(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:i.OrderedList,label:"Ordered List"})),{keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyO],run:function(n){var t=(0,ee.PH)(n,e),r=n.getModel();if(t&&r){var o=function(e,n){var t=function(t){return{convertedText:t,nextSelection:pe(t,(0,ee.pn)({convertedText:t,selectedText:e,selectedRange:n}))}};return ve.test(e)?t(e.replace(ve,"$1")):me.test(e)?t(e.replace(me,"$11. ")):t(e.replace(/^([\s]*)(.*)/,"$11. $2"))}(r.getValueInRange(t),t),i=o.convertedText,l=o.nextSelection;n.pushUndoStop(),n.executeEdits("",[{range:t,text:i}],[l]),n.pushUndoStop()}}});n.addAction(t),n.addAction(r)}),[])};var he=function(){return(0,c.useCallback)((function(e,n){var t=(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:i.StrongEmphasis,label:"Strong Emphasis"})),{keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyB],run:function(e){var n=e.getModel(),t=e.getSelection();if(n&&t){var r=function(e,n){if(/^(\*{3}|_{3}).*(\*{3}|_{3})$/.test(e)||/^(\*{2}|_{2}).*(\*{2}|_{2})$/.test(e)){if(/^_/.test(e)){var t=e.replace(/^_{2}(.*)_{2}$/,"$1");return{convertedText:t,nextSelection:(0,ee.pn)({convertedText:t,selectedText:e,selectedRange:n})}}var r=e.replace(/^\*{2}(.*)\*{2}$/,"$1");return{convertedText:r,nextSelection:(0,ee.pn)({convertedText:r,selectedText:e,selectedRange:n})}}var o="**".concat(e||"Bold","**"),i=(0,ee.pn)({convertedText:o,selectedText:e,selectedRange:n});return{convertedText:o,nextSelection:i.setStartPosition(i.startLineNumber,i.startColumn+2).setEndPosition(i.endLineNumber,i.endColumn-2)}}(n.getValueInRange(t),t),o=r.convertedText,i=r.nextSelection;e.pushUndoStop(),e.executeEdits("",[{range:t,text:o}],[i]),e.pushUndoStop()}}});n.addAction(t)}),[])};var xe=function(){return(0,c.useCallback)((function(e,n){var t=(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:i.MathFormula,label:"Insert Mathematical Expression"})),{keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyI],run:function(e){var n=e.getModel(),t=e.getSelection();if(n&&t){var r=function(e,n){var t="$$".concat(e||"O(n)","$$"),r=(0,ee.pn)({convertedText:t,selectedText:e,selectedRange:n});return{convertedText:t,nextSelection:r.setStartPosition(r.startLineNumber,r.startColumn+2).setEndPosition(r.endLineNumber,r.endColumn-2)}}(n.getValueInRange(t),t),o=r.convertedText,i=r.nextSelection;e.pushUndoStop(),e.executeEdits("",[{range:t,text:o}],[i]),e.pushUndoStop()}}});n.addAction(t)}),[])};function be(e){return e?e.items?Array.from(e.items).filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()})).filter((function(e){return null!==e})):Array.from(e.files).filter((function(e){return null!==e})):[]}var Ce=t(24193),we=t.n(Ce),ye=t(80983);var Se,je,ke=function(){var e=[(0,c.useCallback)((function(e,n){var t=(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:i.CodeFence,label:"Insert Code Fence"})),{keybindings:[e.KeyMod.CtrlCmd|e.KeyMod.Alt|e.KeyCode.KeyC],run:function(e){var n=e.getModel(),t=e.getSelection();if(n&&t){var r=n.getValueInRange(t)||"Code block",o=r.split("\n").pop().length+1,i=["```",r,"```"].join("\n"),l=t.setEndPosition(t.endLineNumber+1,o).setStartPosition(t.startLineNumber+1,1);e.pushUndoStop(),e.executeEdits("",[{range:t,text:i}],[l]),e.pushUndoStop()}}});n.addAction(t)}),[]),oe(),(0,c.useCallback)((function(e,n){var t=(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:i.GroupedCodeFence,label:"Insert Grouped Code Fence"})),{run:function(n){var t="console.log('Hello world!')";(0,ee.J4)({monaco:e,editor:n,content:["```javascript []\n".concat(t,"\n```"),"```python []\nprint('Hello world!')\n```","```ruby []\nputs 'Hello world!'\n```"].join("\n"),getUserSelection:function(e){return e.setStartPosition(e.startLineNumber+1,0).setEndPosition(e.startLineNumber+1,t.length+1)}})}});n.addAction(t)}),[]),fe(),(0,c.useCallback)((function(e,n){var t=(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:i.InsertLink,label:"Insert Link"})),{keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyK],run:function(e){var n=e.getModel(),t=e.getSelection();if(n&&t){var r=n.getValueInRange(t),o=(0,ee.PX)(r)?r:"",i="[".concat(r,"](").concat(o,")"),l=(0,ee.pn)({convertedText:i,selectedText:r,selectedRange:t}),u=l.setStartPosition(l.startLineNumber,l.startColumn+1).setEndPosition(l.endLineNumber,l.endColumn-(o.length+3));e.pushUndoStop(),e.executeEdits("",[{range:t,text:i}],[u]),e.pushUndoStop()}}});n.addAction(t)}),[]),(0,c.useCallback)((function(e,n){var t={next:function(n){var t=n.getSelection();if(t){var r=t.startLineNumber+1,o=new e.Selection(r,0,r,0);return n.pushUndoStop(),n.executeEdits("",[{range:t,text:"\n"}],[o]),n.pushUndoStop(),!0}return!1},bulletList:function(n){var t=n.getModel(),r=n.getSelection(),o=(0,ee.HI)(n,e);if(t&&r&&o){var i=t.getValueInRange(o),l=/^(\s*[*\-+:])\s$/.test(i),u=/^(\s*[*\-+:])\s/.exec(i);if(l){var a=o.startLineNumber,c=new e.Selection(a,0,a,0);return n.pushUndoStop(),n.executeEdits("",[{range:o,text:""}],[c]),n.pushUndoStop(),!0}if(u){var s="".concat(u[1]," "),d=r.startLineNumber+1,f=s.length+1,m=new e.Selection(d,f,d,f);return n.pushUndoStop(),n.executeEdits("",[{range:r,text:"\n".concat(s)}],[m]),n.pushUndoStop(),!0}return!1}return!1},orderedList:function(n){var t=n.getModel(),r=n.getSelection(),o=(0,ee.HI)(n,e);if(t&&r&&o){var i=t.getValueInRange(o),l=/^(\s*\d+\.)\s$/.test(i),u=/^(\s*)(\d+)\.\s/.exec(i);if(l){var a=o.startLineNumber,c=new e.Selection(a,0,a,0);return n.pushUndoStop(),n.executeEdits("",[{range:o,text:""}],[c]),n.pushUndoStop(),!0}if(u){var s=u[1],d=Number.parseInt(u[2])+1,f="".concat(s).concat(d,". "),m=r.startLineNumber+1,v=f.length+1,p=new e.Selection(m,v,m,v);return n.pushUndoStop(),n.executeEdits("",[{range:r,text:"\n".concat(f)}],[p]),n.pushUndoStop(),!0}return!1}return!1}},r=[t.bulletList,t.orderedList,t.next];n.addCommand(e.KeyCode.Enter,(function(){var t=n.getModel(),o=(0,ee.HI)(n,e);if(t&&o){var i=!0,l=!1,u=void 0;try{for(var a,c=r[Symbol.iterator]();!(i=(a=c.next()).done);i=!0)if((0,a.value)(n))return}catch(s){l=!0,u=s}finally{try{i||null==c.return||c.return()}finally{if(l)throw u}}}}))}),[]),ge(),le(),he(),re(),(0,c.useCallback)((function(e,n){var t=(0,E.Z)((0,Z.Z)({},(0,ee.Th)({id:i.HorizontalRule,label:"Insert Horizontal Rule"})),{run:function(n){var t,r;(0,ee.J4)({monaco:e,editor:n,content:"\n---\n\n"});var o=null!==(r=null===(t=n.getPosition())||void 0===t?void 0:t.lineNumber)&&void 0!==r?r:1;n.setPosition({lineNumber:o+3,column:1}),n.focus()}});n.addAction(t)}),[]),xe()];return(0,J.z)((function(n,t){e.forEach((function(e){return e(n,t)}))}))},Ne=function(e){var n=e.value,t=e.placeholder,r=e.onChange,o=e.className,i=e.options,l=(0,c.useRef)(null),u=ke(),s=(0,Y.d)(),d=(0,X.I)(),f=(0,y.WV)(),m=f.setEditor,v=f.setValue,p=(0,y.M8)().editor,g=(0,J.z)((function(e){null===r||void 0===r||r(e),v(e)}));(0,c.useEffect)((function(){p&&"undefined"!==typeof n&&p.getValue()!==n&&p.setValue(n)}),[p,n]),(0,c.useEffect)((function(){i&&(0,Q.d)(p,i)}),[i,p]),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,y.M8)().editor,t=(0,X.I)();(0,c.useEffect)((function(){if(n&&t&&e){var r={getId:function(){return"placeholder"},getDomNode:function(){var n=document.createElement("div");return n.classList.add("pointer-events-none"),n.innerHTML='\n          <div class="leading-[18px] text-label-4 dark:text-dark-label-4 fill w-[2000px] pl-1">'.concat(e,"</div>\n          "),n},getPosition:function(){return{position:{lineNumber:1,column:1},preference:[t.editor.ContentWidgetPositionPreference.EXACT]}}},o=function(){n.getValue()?n.removeContentWidget(r):n.addContentWidget(r)},i=n.onDidChangeModelContent(o);return o(),function(){i.dispose()}}}),[n,t,e])}(t),(0,c.useEffect)((function(){if(d&&l.current){var e=d.editor.create(l.current,{language:"markdown",wordWrap:"on",lineNumbers:"off",contextmenu:!1,minimap:{enabled:!1},links:!1,quickSuggestions:!1,automaticLayout:!0,scrollbar:{verticalScrollbarSize:5},scrollBeyondLastLine:!!s,occurrencesHighlight:!1,renderLineHighlight:"none"});return e.onDidChangeModelContent((function(){var n=e.getValue();g(n)})),u(d,e),m(e),function(){e.dispose(),m(null)}}}),[u,d,g,m,s]);var h=(0,B.Y)({}).uploadFiles,x=(0,c.useCallback)((function(e){var n=be(e.clipboardData).filter((function(e){return e.type.startsWith("image")}));n.length>0&&(e.preventDefault(),h(n))}),[h]),b=(0,c.useCallback)((function(e){var n=be(e.dataTransfer).pop();n&&function(e,n){if(n){var t=e.type||(0,ye.lookup)(e.name);return!!t&&n.some((function(e){return we()(t,e)}))}return!0}(n,["text/markdown"])&&new Response(n).text().then((function(e){p&&p.setValue(e)}))}),[p]);return(0,a.jsx)("div",{onPaste:x,onDrop:b,className:o,translate:"no",children:(0,a.jsx)("div",{ref:l,className:"h-full w-full"})})},Ie=t(75117),Le=t(45677),Te=(0,c.forwardRef)((function(e,n){var t=e.content,r=(Se||(Se=(0,Le.t)({highlight:!0,gfm:!0,math:!0,html:!0,mcqs:Ie.Oo,diaporama:Ie.Oo,imageSize:!0,embedVideos:Ie.Oo,normalVideo:Ie.ob,groupedCode:!0,relAttribute:!0,httpsImagesOnly:!0,premiumOnlyVideo:Ie.Oo,htmlSanitization:!0,preserveLineBreaks:!0,nodebbImageTransformation:Ie.Oo,brokenImageHolder:!0,linkSift:Ie.ob,linkTargetBlank:!0,aliPlayerVideo:Ie.ob,slides:Ie.ob,toc:!0,customComponent:!0,inEditingMode:!0})),Se),o=(0,y.M8)().value;return(0,a.jsx)("div",{ref:n,children:(0,a.jsx)(r,{content:t||o||""})})})),Ze=t(73445),Ee=t(782),Me=(0,Ze.Ue)((0,Ee.XR)((0,Ee.$e)({tagList:[],completeTagList:[],title:"",content:"",enableReward:!1,template:"",questionSlug:"",solutionId:"",draftId:"",submissionId:"",previewRef:(0,c.createRef)()},(function(e){return{toggleTag:function(n){return e((function(e){return(0,E.Z)((0,Z.Z)({},e),{tagList:e.tagList.includes(n.slug)?e.tagList.filter((function(e){return e!==n.slug})):(0,u.Z)(e.tagList).concat([n.slug]),completeTagList:e.completeTagList.some((function(e){return e.slug===n.slug}))?e.completeTagList.filter((function(e){return e.slug!==n.slug})):(0,u.Z)(e.completeTagList).concat([n])})}))},addTag:function(n){return e((function(e){return(0,E.Z)((0,Z.Z)({},e),{tagList:e.tagList.concat(n)})}))},deleteTag:function(n){return e((function(e){return(0,E.Z)((0,Z.Z)({},e),{tagList:e.tagList.filter((function(e){return e!==n.slug})),completeTagList:e.completeTagList.filter((function(e){return e.slug!==n.slug}))})}))},setTitle:function(n){return e((function(e){return(0,E.Z)((0,Z.Z)({},e),{title:n})}))},setContent:function(n){return e((function(e){return(0,E.Z)((0,Z.Z)({},e),{content:n})}))},setEnableReward:function(n){return e((function(e){return(0,E.Z)((0,Z.Z)({},e),{enableReward:n})}))},setQuestionSlug:function(n){return e((function(e){return(0,E.Z)((0,Z.Z)({},e),{questionSlug:n})}))},setSolutionId:function(n){return e((function(e){return(0,E.Z)((0,Z.Z)({},e),{solutionId:n})}))},setSubmissionId:function(n){return e((function(e){return(0,E.Z)((0,Z.Z)({},e),{submissionId:n})}))},clearDraft:function(){return e((function(e){return(0,E.Z)((0,Z.Z)({},e),{content:"",tagList:[],title:""})}))},setDraftId:function(n){return e((function(e){return(0,E.Z)((0,Z.Z)({},e),{draftId:n})}))},setData:function(n){return e((function(e){return(0,Z.Z)({},e,n)}))}}})))),_e=t(83757),Re=t(54340),He=t(29297),Ae=function(){var e=(0,j.$G)("post-solution").t,n=(0,_e.v)((function(e){return e.questionSlug})),t=(0,J.z)((function(){He.d.qdMarkdownGuideClick({qd_version:(0,v.in)(),qd_question_slug:n})}));return(0,a.jsx)(O.u,{label:e("guideTooltip"),children:(0,a.jsx)(Re.r,{href:p.Hb.markdownGuide(),isExternal:!0,className:(0,g.yI)(b.Cj.fill3Hover,"flex h-6 w-6 items-center justify-center rounded-[5px]"),onClick:t,children:"\ud83d\udca1"})})},Pe=t(95633),ze=t(5797),qe=t(385),Ue=t(29321),De=t(39606),Oe=t(47207),Ve="\n# Intuition\n\x3c!-- Describe your first thoughts on how to solve this problem. --\x3e\n\n# Approach\n\x3c!-- Describe your approach to solving the problem. --\x3e\n\n# Complexity\n- Time complexity:\n\x3c!-- Add your time complexity here, e.g. $$O(n)$$ --\x3e\n\n- Space complexity:\n\x3c!-- Add your space complexity here, e.g. $$O(n)$$ --\x3e\n".trim(),Fe="\n# Code\n```\n{{code}}\n```\n".trim(),$e="\n# Preview & Code\n{{code_and_preview}}\n".trim(),Be=function(e){var n=e.code,t=e.codeAndPreview,r=(0,Oe.Y)(t&&$e.replace(/\{\{code_and_preview\}\}/,t),n&&Fe.replace(/\{\{code\}\}/,n),"No code or preview found");return[Ve,r].join("\n\n")},Ke=t(74107),Ge=t(69441),We=t(65854),Je=t(88525),Ye=t(33813),Xe=function(e){var n,t,r,o,i,l,u,a;return(0,Je.u3W)(We.f6,(0,Ge.Z)(e,["topicId"]),{select:function(e){var c,s,d,f;return{slug:null!==(n=String(null===(c=e.topic)||void 0===c?void 0:c.id))&&void 0!==n?n:"0",status:"",title:null!==(t=null===(s=e.topic)||void 0===s?void 0:s.title)&&void 0!==t?t:"",content:(0,Ye.pC)(null!==(r=null===(d=e.topic)||void 0===d?void 0:d.post.content)&&void 0!==r?r:""),rewardEnabled:!1,tags:null!==(a=null===(f=e.topic)||void 0===f?void 0:f.solutionTags.map((function(e){return{name:null!==(o=null===e||void 0===e?void 0:e.name)&&void 0!==o?o:"",slug:null!==(i=null===e||void 0===e?void 0:e.slug)&&void 0!==i?i:"",id:null!==(l=null===e||void 0===e?void 0:e.slug)&&void 0!==l?l:"",nameTranslated:null!==(u=null===e||void 0===e?void 0:e.name)&&void 0!==u?u:""}})))&&void 0!==a?a:[]}},enabled:!!e.topicId})},Qe=function(e){return(0,Je.LfP)(We.f6,{questionSlug:e},{enabled:!!e,select:function(e){return e.lastAcSubmission?{id:Number(e.lastAcSubmission.id),code:e.lastAcSubmission.code,lang:null!==(n=e.lastAcSubmission.lang.name)&&void 0!==n?n:"",topicTags:e.lastAcSubmission.topicTags.map((function(e){return null!==(t=null===e||void 0===e?void 0:e.slug)&&void 0!==t?t:""})).filter(Boolean),supportsPreview:!!e.lastAcSubmission.question.hasFrontendPreview,runtimePercentile:Number(e.lastAcSubmission.runtimePercentile)}:null;var n,t}})},en=function(e){var n=(0,Ue.P)(Number(e)),t=n.isFetching,r=n.data;return(0,c.useMemo)((function(){if(!r)return[t,null];var n=r.topicTags.map((function(e){return e.slug})),o=r.lang?[r.lang].concat((0,u.Z)(n)):n,i=r.supportsPreview&&r.statusCode===De.F6.AC?"{{submission_preview:".concat(e,"}}"):void 0;return[t,{title:"",content:Be({codeAndPreview:i,code:r.code}),tagList:o.slice(0,5)}]}),[t,r,e])},nn=function(e){var n=Xe({slug:"",topicId:e}),t=n.isFetching,r=n.data;return(0,c.useMemo)((function(){return r?[t,{title:r.title,content:null!==(e=r.content)&&void 0!==e?e:"",tagList:r.tags.map((function(e){return e.slug}))}]:[t,null];var e}),[t,r])},tn=function(e,n){var t=function(e){var n,t,r,o=e.questionSlug,i=e.topicId,l=(0,Ke.O)("discuss").getItem,u="categoryId:".concat(o,":topicId:").concat(i),a=null!==(n=l("".concat(u,":title")))&&void 0!==n?n:"",s=null!==(t=l("".concat(u,":content")))&&void 0!==t?t:"",d=(0,c.useMemo)((function(){return null!==(r=l("".concat(u,":solutionTags"),{json:!0}))&&void 0!==r?r:[]}),[u,l]),f=a||s||d.length>0;return(0,c.useMemo)((function(){return f?{title:a,content:s,tags:d}:void 0}),[f,a,s,d])}({questionSlug:e,topicId:n}),r=(0,c.useState)(t)[0];return(0,c.useMemo)((function(){return r?[!1,{title:r.title,content:r.content,tagList:r.tags.map((function(e){return e.slug}))}]:[!1,null]}),[r])},rn=function(e){var n=Qe(e),t=n.isFetching,r=n.data;return(0,c.useMemo)((function(){if(!r)return[t,null];var e=r.lang?[r.lang].concat((0,u.Z)(r.topicTags)):r.topicTags,n=r.supportsPreview?"{{submission_preview:".concat(r.id,"}}"):void 0;return[t,{title:"",content:Be({codeAndPreview:n,code:r.code}),tagList:e.slice(0,5)}]}),[t,r])};!function(e){e.Submission="submission",e.Solution="solution",e.Draft="draft",e.LastAcSubmission="lastAcSubmission",e.None="none"}(je||(je={}));var on=function(e){var n=e.fromSource,t=function(e){var n=(0,j.$G)("post-solution").t;switch(e){case je.Draft:return n("generatedWithSources.draft");case je.Submission:return n("generatedWithSources.submission");case je.LastAcSubmission:return n("generatedWithSources.lastAc");case je.Solution:return n("editingSolution");default:return""}}(n),r=function(e){var n=(0,j.$G)("post-solution").t,t=Me((function(e){return e.questionSlug})),r=Me((function(e){return e.solutionId})),o=r?Number(r):void 0,i=null!==tn(t,o)[1];return e===je.Draft?n("overwriteWithLastAc"):i?n("restore"):null}(n),o=function(e){var n=(0,y.M8)().editor,t=(0,c.useState)(e)[0],r=Me((function(e){return e.questionSlug})),o=Me((function(e){return e.solutionId})),i=o?Number(o):void 0,a=(0,l.Z)(t===je.Draft?[rn,[r]]:[tn,[r,i]],2),s=a[0],d=a[1],f=(0,l.Z)(s.apply(void 0,(0,u.Z)(d)),2),m=f[0],p=f[1],g=(0,c.useState)(!1),h=g[0],x=g[1],b=Me((function(e){return e.setData}));return(0,c.useEffect)((function(){var e;if(h&&!m&&p){b({title:p.title,tagList:p.tagList});var o=null===(e=null===n||void 0===n?void 0:n.getModel())||void 0===e?void 0:e.getFullModelRange();o&&(null===n||void 0===n||n.executeEdits("",[{range:o,text:p.content,forceMoveMarkers:!1}])),t===je.Draft&&He.d.qdOverwriteWithLatestAcClick({qd_version:(0,v.in)(),qd_question_slug:r})}}),[h,m,p,x,b,n,r,t]),(0,c.useCallback)((function(){return x(!0)}),[])}(n),i=(0,l.Z)((0,Pe.O)(!0),2),s=i[0],d=i[1].off;return s?(0,a.jsxs)("div",{className:(0,g.yI)("flex h-8 items-center px-5",b.Cj.bgBlue0),children:[(0,a.jsxs)("div",{className:"flex min-w-0 items-center text-xs",children:[(0,a.jsx)("div",{className:"w-full truncate",children:(0,a.jsx)(ze.J,{title:t,children:t})}),r&&(0,a.jsx)(F.z,{variant:"plain",onClick:function(){o(),d()},className:(0,g.yI)(b.Cj.labelBlueStandard,"font-medium underline"),children:r})]}),(0,a.jsx)(qe.F,{className:(0,g.yI)("ml-auto h-4 w-4 cursor-pointer",b.Cj.labelGrey5),onClick:d})]}):null},ln=function(e){var n=e.dataSource,t=Me((function(e){return e.content})),r=Me((function(e){return e.setContent})),o=Me((function(e){return e.previewRef}));return(0,a.jsx)(S,{children:(0,a.jsxs)("div",{className:(0,g.yI)("flex flex-1 flex-col overflow-hidden border-t",b.Cj.divider3),children:[(0,a.jsxs)("div",{className:"flex w-full items-center justify-between px-5",children:[(0,a.jsx)(W,{className:"shrink-0"}),(0,a.jsx)(Ae,{})]}),(0,a.jsxs)("div",{className:(0,g.yI)("flex min-h-0 grow"),children:[(0,a.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden rounded-b",children:[(0,a.jsx)("div",{className:(0,g.yI)(b.Cj.divider3,"grow border-t"),children:(0,a.jsx)(Ne,{value:t,onChange:r,className:"h-full w-full",options:{padding:{top:16}}})}),(0,a.jsx)("div",{className:"flex-shrink-0",children:!!n&&(0,a.jsx)(on,{fromSource:n})})]}),(0,a.jsx)("div",{className:(0,g.yI)(b.Cj.divider3,"hidden flex-1 overflow-auto border-l border-t px-6 pb-2 pt-4 md:block"),style:{contain:"layout"},children:(0,a.jsx)(Te,{ref:o})})]})]})})},un=(t(63700),t(90793),t(21950)),an=t(84945),cn=t(48048),sn=t(98277),dn=t(14924),fn=t(111),mn=t(29732),vn=t(23254),pn=t(60445),gn=t(45068),hn=t(7111),xn=t(9337),bn=t(66360),Cn=t(67331),wn=t(70138),yn=function(e){var n=e.children,t=e.className,r=e.disabled,o=e.onClick,i=(0,D.Z)(e,["children","className","disabled","onClick"]);return(0,a.jsx)("div",(0,E.Z)((0,Z.Z)({className:(0,g.yI)("flex items-center gap-1 rounded-full px-3 py-1",b.Cj.fill3,{"cursor-not-allowed opacity-40":r},t),onClick:r?void 0:o},i),{children:n}))},Sn=function(){var e=Me((function(e){return e.questionSlug})),n=Me((function(e){return e.tagList})),t=Me((function(e){return e.toggleTag})),r=(0,c.useState)(""),o=r[0],i=r[1],l=(0,c.useCallback)((0,fn.Z)((function(e){i(e)}),300),[]),u=(0,c.useState)([]),s=u[0],d=u[1],f=n.length>=10,m=(0,pn.C)(e).data,p=void 0===m?[]:m,h=(0,j.$G)("post-solution").t,x=(0,hn.b)(e).data;(0,c.useEffect)((function(){x&&x.length&&d(x)}),[x]);var C=(0,wn._)(o,e,s).filteredTags;return(0,a.jsx)(vn.J,{placement:"bottomLeft",useHover:!1,panelClassName:(0,g.yI)(b.eq.card,"overflow-hidden rounded-lg"),contentClassName:"p-0 rounded-lg",disabled:f,showArrow:!1,mobileEnable:!0,content:(0,a.jsxs)("div",{className:(0,g.yI)("max-h-[250px] space-y-1 overflow-auto rounded-lg py-2",b.Cj.bgLayer2),children:[(0,a.jsx)("div",{className:"px-2",children:(0,a.jsx)(cn.I,{leftIcon:xn.j,onChange:function(e){return l(e.target.value)},placeholder:h("filterTopic"),className:v.UG})}),C.map((function(e){var r,o=n.includes(e.slug);return(0,a.jsxs)("div",{className:(0,g.yI)(b.Cj.fill4Hover,b.Cj.fill4Focus,"mx-2 flex max-w-[300px] cursor-pointer items-center rounded-md px-3 py-1.5"),onClick:function(){return t(e)},children:[(0,a.jsx)("span",{className:(0,g.yI)("truncate pr-2",(r={"font-medium":o},(0,dn.Z)(r,b.Cj.label1,o),(0,dn.Z)(r,b.Cj.label2,!o),r)),children:e.nameTranslated||e.name||""}),(null===p||void 0===p?void 0:p.find((function(n){return n.slug===e.slug})))&&(0,a.jsx)("span",{className:(0,g.yI)("mr-4 shrink-0 rounded px-1.5 py-0.5",b.Cj.labelBlueStandard,b.Cj.bgBlue0),children:h("related")}),o&&(0,a.jsx)("span",{className:"ml-auto shrink-0",children:(0,a.jsx)(bn.N,{className:(0,g.yI)(b.Cj.labelBlueStandard,"h-4 w-4")})})]},e.slug)}))]}),children:(0,a.jsxs)(yn,{disabled:f,className:(0,g.yI)("group cursor-pointer text-[14px]",(0,dn.Z)({},b.Cj.fill2Hover,!f)),children:[(0,a.jsx)(Cn.S,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:h("tag")})]})})},jn=function(e){var n=e.className,t=Me((function(e){return e.questionSlug})),r=(0,gn.Y)({questionSlug:t}).data,o=void 0===r?[]:r,i=Me((function(e){return e.tagList})),l=Me((function(e){return e.deleteTag})),u=(0,c.useMemo)((function(){return(0,mn.Z)(i.map((function(e){return o.find((function(n){return n.slug===e}))})))}),[i,o]);return(0,a.jsxs)("div",{className:n,children:[(0,a.jsx)(Sn,{}),u.map((function(e){return(0,a.jsxs)(yn,{className:(0,g.yI)(b.Cj.fill2Hover,"group cursor-pointer"),children:[(0,a.jsx)("span",{className:(0,g.yI)(b.Cj.label1,"text-[14px]"),children:e.nameTranslated||e.name}),(0,a.jsx)(qe.F,{className:(0,g.yI)(b.Cj.labelGrey5,b.M$.labelGray6Group,"h-4 w-4 cursor-pointer"),onClick:function(){return l(e)}})]},e.slug)}))]})},kn=t(55803),Nn=t(94207),In=function(e){var n=e.current;return n?(0,Nn.Z)((0,mn.Z)(Array.from(n.querySelectorAll("a")).map((function(e){if(0===(e.textContent||"").indexOf("@")){var n=e.href;if(new URL(n).pathname.startsWith("/u/"))return n.split("/").pop()||""}})))):[]},Ln=function(e){var n=e.current;if(n)for(var t=n.getElementsByTagName("img"),r=0;r<t.length;r++){var o=t[r],i=o.naturalWidth,l=o.naturalHeight;if(i>120&&l>80&&o.src.startsWith("http"))return o.src}return""},Tn=t(82670),Zn=function(e,n){var t,r=null===(t=n.current)||void 0===t?void 0:t.children[0];if(r){var o=Array.from(r.children).filter((function(e){return!(0,Tn.Z)(e,HTMLDivElement)&&(0,Tn.Z)(e,Element)})).map((function(n){return(0,Tn.Z)(n,HTMLPreElement)?e("blockCode"):n.textContent})).filter(Boolean).join("");return Array.from(o).slice(0,160).join("").trim()}return""},En=function(e){var n=e.isSaved,t=e.isSaving,r=Me((function(e){return e.title})),o=Me((function(e){return e.content})),i=Me((function(e){return e.enableReward})),l=Me((function(e){return e.questionSlug})),u=Me((function(e){return e.solutionId})),s=Me((function(e){return e.submissionId})),f=Me((function(e){return e.draftId})),m=Me((function(e){return e.tagList})),h=Me((function(e){return e.setTitle})),x=(0,c.useCallback)((function(e){e.target.value.length>100||h(e.target.value)}),[h]),C=(0,kn.t)(u),w=(0,j.$G)("post-solution").t,y=(0,j.$G)("common").t,S=Me((function(e){return e.previewRef})),k=(0,J.z)((function(){if(0!=m.length){!function(e){C({title:r,content:o,enableReward:i,questionSlug:l,tags:m,slug:u||e,mentionedUserSlugs:In(S),thumbnail:Ln(S),summary:Zn(w,S)}).then((function(e){var n=e.ok,t=e.error,o=e.topicId,i=e.slug;n&&u&&He.d.qdUpdatePostClick({qd_version:(0,v.in)(),qd_question_slug:l}),n&&!u&&He.d.qdPublishPostClick({qd_version:(0,v.in)(),qd_question_slug:l}),n&&!o&&d().push(p.Hb.questionDetailWithTab(l,"solutions")),n&&o&&d().push(p.Hb.solutions(l,o,i||(0,un.o)(r))),t&&an.y.error(null!==t&&void 0!==t?t:w("publishError"))}))}(f)}else an.y.error(w("selectATag"),{itemClassName:b.Cj.bgLayer3})})),N=(0,c.useCallback)((function(){if(He.d.qdCancelPostEditClick({qd_version:(0,v.in)(),qd_question_slug:l}),window.history.length>1)d().back();else{var e=u?p.Hb.solutions(l,Number(u)):s?p.Hb.submissionOverview(l,s):p.Hb.solutions(l);d().push(e)}}),[l,s,u]),I=n||t?(0,a.jsx)("span",{className:(0,g.yI)(b.Cj.label3,"text-xs"),children:n?w("saved"):y("saving")}):null;return(0,a.jsxs)("div",{className:"p-4 pt-6",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"grow",children:(0,a.jsx)(cn.I,{className:(0,g.yI)(b.Cj.label1,b.Cj.bgTransparent,b.Cj.bgTransparentFocus,"rounded-none border-r-0 p-0 text-[20px] leading-[28px]",v.UG),wrapperClassName:"rounded-none",placeholder:"Enter your title",value:r,onChange:x})}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[I,(0,a.jsx)(F.z,{className:"text-md h-8 items-center rounded-lg px-4 font-medium",onClick:N,children:w("common:cancel")}),(0,a.jsxs)(F.z,{disabled:!r.trim()||!o.trim(),variant:"primary",className:(0,g.yI)(b.Cj.labelWhite,"text-md flex h-8 items-center gap-1 rounded-lg px-4 font-medium"),onClick:k,children:[!u&&(0,a.jsx)(sn.h,{className:"h-4 w-4"}),w(u?"common:update":"post")]})]})})]}),(0,a.jsx)(jn,{className:"mt-4 flex flex-wrap gap-3"})]})},Mn=t(53434),_n=t(76248),Rn=t(50632),Hn=t(48121),An=t(1387),Pn=function(){var e,n,t=Me((function(e){return e.setDraftId})),r=null===(e=(0,Rn.U5)().data)||void 0===e||null===(n=e.userStatus)||void 0===n?void 0:n.isSignedIn,o=(0,c.useRef)(!0),i=(0,l.Z)((0,An.o)(),2),u=i[0],a=i[1],s=a.onSaved,d=a.onSaving,f=a.reset,m=(0,Hn.s)(),v=(0,J.z)((function(){var e=Me.getState(),n=e.title,r=e.draftId,i=e.content,l=e.questionSlug,u=e.tagList,a=e.solutionId;Boolean(o.current)&&(d(),m({title:n,slug:r||void 0,content:i,questionSlug:l,tags:u,solutionId:a}).then((function(e){var n,r;s(),t((null===e||void 0===e||null===(n=e.autoSaveSolutionArticle)||void 0===n||null===(r=n.article)||void 0===r?void 0:r.slug)||"")})))})),p=(0,c.useMemo)((function(){return(0,Mn.Z)(v,100,{maxWait:100})}),[v]);return(0,c.useEffect)((function(){o.current=!0;var e=Me.subscribe((function(e){return(0,Ge.Z)(e,["title","content","tagList"])}),(function(){f(),r&&p()}),{equalityFn:_n.X});return function(){o.current=!1,e()}}),[p,r,f]),u},zn=function(){return Pn(),null},qn=function(e){var n=e.questionSlug,t=e.submissionId,r=e.solutionId,o=Me((function(e){return e.setQuestionSlug})),i=Me((function(e){return e.setSolutionId})),s=Me((function(e){return e.setSubmissionId})),y=Me((function(e){return e.setData}));(0,c.useEffect)((function(){return function(){return y({solutionId:"",title:"",content:"",tagList:[],completeTagList:[]})}}),[y]);var S=r?Number(r):void 0;(0,c.useEffect)((function(){return o(n)}),[n,o]),(0,c.useEffect)((function(){return r?i(r):void 0}),[r,i]),(0,c.useEffect)((function(){return t?s(t):void 0}),[t,s]);var j=(0,f.jU)()?window.document.body:null,k=(0,m.a)(j).width,N=(0,c.useMemo)((function(){return(0,h.tq)()&&k&&k<v.eg.MD}),[k]),I=function(e){var n=(0,c.useState)(e)[0],t=n.questionSlug,r=n.topicId,o=n.submissionId,i=null!==tn(t,r)[1];return o?{useDataHook:en,hookArgs:[o],source:je.Submission}:r?{useDataHook:nn,hookArgs:[r],source:je.Solution}:i?{useDataHook:tn,hookArgs:[t,r],source:je.Draft}:{useDataHook:rn,hookArgs:[t],source:je.LastAcSubmission}}({questionSlug:n,submissionId:t,topicId:S}),L=I.useDataHook,T=I.hookArgs,Z=I.source,E=(0,l.Z)(L.apply(void 0,(0,u.Z)(T)),2),M=E[0],_=E[1],R=(0,C.C)(n),H=R.data,A=R.isFetching,P=(null===H||void 0===H?void 0:H.status)===w.lr.Ac;return(0,c.useEffect)((function(){M||A||P||S||d().push(p.Hb.solutions(n),void 0,{shallow:!0}),!M&&_&&y({title:_.title,content:_.content,tagList:_.tagList})}),[M,_,n,y,P,A,S]),M||!_?null:(0,a.jsxs)("div",{className:"flex h-full w-full flex-col",children:[N?(0,a.jsx)(x.r,{}):(0,a.jsx)(x.M,{}),(0,a.jsx)("div",{className:(0,g.yI)(b.Cj.bg,b.Cj.label1,"flex h-[calc(100vh_-_50px)] w-full min-w-0 justify-center overflow-hidden",{"mt-[50px]":N}),children:(0,a.jsxs)("div",{className:(0,g.yI)(b.Cj.bgLayer1,b.eq.card,"lc-md: lc-lg:max-w-screen-xl flex w-full max-w-[888px] flex-col"),children:[(0,a.jsx)(En,{}),(0,a.jsx)(ln,{dataSource:Z}),(0,a.jsx)(zn,{})]})})]})}},48121:function(e,n,t){"use strict";t.d(n,{s:function(){return l}});var r=t(48228),o=t(67294),i=t(74107),l=function(){var e=(0,i.O)("discuss").setItem,n=(0,r.D)((function(n){var t=n.title,r=n.content,o=n.questionSlug,i=n.tags,l=n.solutionId,u="categoryId:".concat(o,":topicId:").concat(l||void 0);if(t&&e("".concat(u,":title"),t),r&&e("".concat(u,":content"),r),i&&i.length>0){var a=i.map((function(e){return{slug:e,name:e,nameTranslated:e}}));e("".concat(u,":solutionTags"),a,{json:!0}),e("".concat(u,":tags"),JSON.stringify(i),{json:!0})}return Promise.resolve({ok:!0,error:"",autoSaveSolutionArticle:null})})).mutateAsync;return(0,o.useCallback)((function(e){return n(e)}),[n])}},55803:function(e,n,t){"use strict";t.d(n,{t:function(){return c}});var r=t(47568),o=t(70655),i=t(85945),l=t(65854),u=t(88525),a=t(33813),c=function(e){var n=(0,i.NL)();return e?function(e,n){var t=(0,u.ylw)(l.f6,{onSuccess:function(){n.invalidateQueries(u.u3W.getKey({topicId:e}))}}).mutateAsync,i=function(){var e=(0,r.Z)((function(e){var n,r,i,l,u,c,s;return(0,o.__generator)(this,(function(o){return n=e.slug,r=e.title,i=e.content,l=e.tags,[2,t({topicId:Number(n),title:r,content:(0,a.e9)(i),tags:l}).then((function(e){var n,t,r,o;return Promise.resolve({ok:null!==(u=null===(n=e.updateSolution)||void 0===n?void 0:n.ok)&&void 0!==u&&u,error:null!==(c=null===(t=e.updateSolution)||void 0===t?void 0:t.error)&&void 0!==c?c:"",topicId:null!==(s=null===(r=e.updateSolution)||void 0===r||null===(o=r.topic)||void 0===o?void 0:o.id)&&void 0!==s?s:0,slug:""})}))]}))}));return function(n){return e.apply(this,arguments)}}();return i}(Number(e),n):function(){var e=(0,u.Ykg)(l.f6).mutateAsync,n=function(){var n=(0,r.Z)((function(n){var t,r,i,l,u,c,s;return(0,o.__generator)(this,(function(o){return t=n.questionSlug,r=n.title,i=n.content,l=n.tags,[2,e({questionSlug:t,title:r,content:(0,a.e9)(i),tags:l}).then((function(e){var n,t,r,o;return Promise.resolve({ok:null!==(u=null===(n=e.publishSolution)||void 0===n?void 0:n.ok)&&void 0!==u&&u,error:null!==(c=null===(t=e.publishSolution)||void 0===t?void 0:t.error)&&void 0!==c?c:"",topicId:null!==(s=null===(r=e.publishSolution)||void 0===r||null===(o=r.topic)||void 0===o?void 0:o.id)&&void 0!==s?s:0,slug:""})}))]}))}));return function(e){return n.apply(this,arguments)}}();return n}()}},70138:function(e,n,t){"use strict";t.d(n,{_:function(){return i}});var r=t(67294),o=t(45068),i=function(e,n){var t=(0,o.Y)({questionSlug:n,query:e}).data,i=void 0===t?[]:t;return{filteredTags:(0,r.useMemo)((function(){var n=e.toLowerCase();return i.filter((function(e){return e.name.toLowerCase().includes(n)||e.nameTranslated.toLowerCase().includes(n)}))}),[i,e])}}},74107:function(e,n,t){"use strict";t.d(n,{O:function(){return l}});var r=t(67294),o=function(e,n){return e?"".concat(e,":").concat(n):n},i=function(e,n){try{return e()}catch(t){n?n(t):console.error(t)}},l=function(e){return{getItem:(0,r.useCallback)((function(n,t){return i((function(){var r=window.localStorage.getItem(o(e,n));return(null===t||void 0===t?void 0:t.json)?"string"===typeof r?JSON.parse(r):null:r}))}),[e]),setItem:(0,r.useCallback)((function(n,t,r){i((function(){var i=(null===r||void 0===r?void 0:r.json)?JSON.stringify(t):t;window.localStorage.setItem(o(e,n),i)}))}),[e]),removeItem:(0,r.useCallback)((function(n){i((function(){return window.localStorage.removeItem(o(e,n))}))}),[e])}}},32528:function(e){e.exports={"input-container":"input_input-container__SZzNg","clear-icon":"input_clear-icon__WR5Cb","right-icon":"input_right-icon__DWVxd"}},3125:function(){},39516:function(e,n,t){"use strict";t.d(n,{d:function(){return f},f:function(){return d}});var r=t(67294),o=t(19946),i=t(12351),l=t(16723),u=t(23784),a=t(73781);let c=(0,r.createContext)(null);function s(){let e=(0,r.useContext)(c);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,s),e}return e}function d(){let[e,n]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)((()=>function(e){let t=(0,a.z)((e=>(n((n=>[...n,e])),()=>n((n=>{let t=n.slice(),r=t.indexOf(e);return-1!==r&&t.splice(r,1),t}))))),o=(0,r.useMemo)((()=>({register:t,slot:e.slot,name:e.name,props:e.props})),[t,e.slot,e.name,e.props]);return r.createElement(c.Provider,{value:o},e.children)}),[n])]}let f=(0,i.yV)((function(e,n){let t=(0,o.M)(),{id:r=`headlessui-description-${t}`,...a}=e,c=s(),d=(0,u.T)(n);(0,l.e)((()=>c.register(r)),[r,c.register]);let f={ref:d,...c.props,id:r};return(0,i.sY)({ourProps:f,theirProps:a,slot:c.slot||{},defaultTag:"p",name:c.name||"Description"})}))},95389:function(e,n,t){"use strict";t.d(n,{_:function(){return f},b:function(){return d}});var r=t(67294),o=t(19946),i=t(12351),l=t(16723),u=t(23784),a=t(73781);let c=(0,r.createContext)(null);function s(){let e=(0,r.useContext)(c);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,s),e}return e}function d(){let[e,n]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)((()=>function(e){let t=(0,a.z)((e=>(n((n=>[...n,e])),()=>n((n=>{let t=n.slice(),r=t.indexOf(e);return-1!==r&&t.splice(r,1),t}))))),o=(0,r.useMemo)((()=>({register:t,slot:e.slot,name:e.name,props:e.props})),[t,e.slot,e.name,e.props]);return r.createElement(c.Provider,{value:o},e.children)}),[n])]}let f=(0,i.yV)((function(e,n){let t=(0,o.M)(),{id:r=`headlessui-label-${t}`,passive:a=!1,...c}=e,d=s(),f=(0,u.T)(n);(0,l.e)((()=>d.register(r)),[r,d.register]);let m={ref:f,...d.props,id:r};return a&&("onClick"in m&&delete m.onClick,"onClick"in c&&delete c.onClick),(0,i.sY)({ourProps:m,theirProps:c,slot:d.slot||{},defaultTag:"label",name:d.name||"Label"})}))},31147:function(e,n,t){"use strict";t.d(n,{q:function(){return i}});var r=t(67294),o=t(73781);function i(e,n,t){let[i,l]=(0,r.useState)(t),u=void 0!==e,a=(0,r.useRef)(u),c=(0,r.useRef)(!1),s=(0,r.useRef)(!1);return!u||a.current||c.current?!u&&a.current&&!s.current&&(s.current=!0,a.current=u,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(c.current=!0,a.current=u,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[u?e:i,(0,o.z)((e=>(u||l(e),null==n?void 0:n(e))))]}},18689:function(e,n,t){"use strict";function r(e={},n=null,t=[]){for(let[r,l]of Object.entries(e))i(t,o(n,r),l);return t}function o(e,n){return e?e+"["+n+"]":n}function i(e,n,t){if(Array.isArray(t))for(let[r,l]of t.entries())i(e,o(n,r.toString()),l);else t instanceof Date?e.push([n,t.toISOString()]):"boolean"==typeof t?e.push([n,t?"1":"0"]):"string"==typeof t?e.push([n,t]):"number"==typeof t?e.push([n,`${t}`]):null==t?e.push([n,""]):r(t,n,e)}function l(e){var n;let t=null!=(n=null==e?void 0:e.form)?n:e.closest("form");if(t)for(let r of t.elements)if("INPUT"===r.tagName&&"submit"===r.type||"BUTTON"===r.tagName&&"submit"===r.type||"INPUT"===r.nodeName&&"image"===r.type)return void r.click()}t.d(n,{g:function(){return l},t:function(){return r}})}}]);